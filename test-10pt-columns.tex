% arara: lualatex
% arara: lualatex
% arara: clean: { extensions: [ aux, log, out] }
\documentclass[12pt]{article}
\usepackage[top=2cm,bottom=2cm,left=1cm,right=1cm]{geometry}% ,showframe
\usepackage{enumext}
\setlength{\parskip}{0pt}
\setlength{\parindent}{0pt}
\setlength{\columnseprule}{0.5pt}
\usepackage{lua-visual-debug}
%\showoutput
%\showboxdepth=10
\begin{document}

Above
%\begin{multicols}{2}nosep
\begin{enumext}[columns=2]%itemsep=50pt,parsep=20pt,partopsep=0pt]%[partopsep=20pt,parsep=20pt, topsep=0pt, itemsep=20pt,columns=2]%[columns=2,parsep=5pt,partopsep=0pt]%[columns=2,itemsep=30pt,parsep=20pt,partopsep=50pt]%[partopsep=20pt,parsep=20pt, topsep=0pt, itemsep=20pt,columns=2]%[columns=2,parsep=5pt,partopsep=0pt]
\item F

  \begin{enumext}%%[partopsep=0pt,parsep=0pt, topsep=0pt,]%%[parsep=0pt,partopsep=20pt, topsep=10pt,itemsep=5pt]%,itemsep=10pt
     \item P \item Q \item M
  \end{enumext}
\item Other item

\columnbreak

\item J

  \begin{enumext}[columns=2]%%,parsep=0pt,partopsep=20pt, topsep=10pt,itemsep=5pt]%,itemsep=10pt
     \item  H \item I \item K
     \columnbreak
     \item X \item Z
  \end{enumext}
\item CC
\end{enumext}
%\end{multicols}
Below
%%\end{document}

%%\newpage


\section{Test 0: \texttt{columns=2, nosep} HORIZONTAL}

Before
\begin{enumext}[columns=2,nosep]% ,nosep

\item Using [columns=1] here UNO
  \begin{enumext}[columns=1,nosep]%,,parsep=0pt,partopsep=0cm,
     \item  P \item Q \item M %\item R \item S
  \end{enumext}

\item Using [columns=1] here below
\begin{enumext}[columns=1]%,topsep=20pt,parsep=10pt
     \item  P \item Q \item X  \item R \item S
  \end{enumext}

\columnbreak

\item Using [columns=2] here DOS
  \begin{enumext}[columns=2,nosep]%,itemsep=0.25cm,itemsep=0.25cm
    \item  P \item Q \item M \item R \item S
  \end{enumext}

\item Using [columns=1] here below
\begin{enumext}[columns=1]%,topsep=20pt,parsep=10pt mini-env={0.4\linewidth},
     \item  P \item Q \item X  \item R \item S
  \end{enumext}

\end{enumext}
After

\newpage



\section{Test 1: \texttt{columns=2, topsep=default} HORIZONTAL}

Before
\begin{enumext}[columns=2]

\item Using [columns=1] here UNO
  \begin{enumext}[columns=1]
     \item  P \item Q \item M %\item R \item S
  \end{enumext}

\item Using [columns=1] here below
\begin{enumext}[columns=1]
     \item  P \item Q \item X  \item R \item S
  \end{enumext}

\columnbreak

\item Using [columns=2] here DOS
  \begin{enumext}[columns=2]
    \item  P \item Q \item M \item R \item S
  \end{enumext}

\item Using [columns=1] here below
\begin{enumext}[columns=1]
     \item  P \item Q \item X  \item R \item S
  \end{enumext}

\end{enumext}
After

\newpage

\section{Test 2: \texttt{columns=1, topsep=0pt} HORIZONTAL}

BEFORE
\begin{enumext}[columns=2]
\item Using [columns=1] here UNO
  \begin{enumext}[columns=1,topsep=0pt]%,,parsep=0pt,partopsep=0pt,itemsep=0pt
     \item  P \item Q \item M %\item R \item S
  \end{enumext}

\item Using [columns=1] here below
\begin{enumext}[columns=1]%,topsep=20pt,parsep=10pt
     \item  P \item Q \item X  \item R \item S
  \end{enumext}

\columnbreak

\item Using [columns=2] here HHHH
  \begin{enumext}[columns=2,topsep=0pt]%,
    \item  P \item Q \item M \item R \item S
  \end{enumext}

\item Using [columns=1] here below
\begin{enumext}[columns=1]%,topsep=20pt,parsep=10pt mini-env={0.4\linewidth},
     \item  P \item Q \item X  \item R \item S
  \end{enumext}

\end{enumext}
After

\section{Test 3: \texttt{mini-env,columns=1,topsep=20pt} HORIZONTAL}

BEFORE
\begin{enumext}[columns=2]
\item Using [columns=1] here UNO
  \begin{enumext}[columns=1,topsep=20pt]%,,parsep=0pt,partopsep=0pt,itemsep=0pt
     \item  P \item Q \item M %\item R \item S
  \end{enumext}

\item Using [columns=1] here below
\begin{enumext}[columns=1,topsep=20pt]%,topsep=20pt,parsep=10pt
     \item  P \item Q \item X  \item R \item S
  \end{enumext}

\columnbreak

\item Using [columns=2,topsep=20pt] here HHHH
  \begin{enumext}[columns=2,topsep=20pt]%,
    \item  P \item Q \item M \item R \item S
  \end{enumext}

\item Using [columns=1] here below
\begin{enumext}[columns=1,topsep=20pt]%,topsep=20pt,parsep=10pt mini-env={0.4\linewidth},
     \item  P \item Q \item X  \item R \item S
  \end{enumext}

\end{enumext}
After

\newpage

\section{Test 4: \texttt{mini-env,columns=1,topsep=20pt,partopsep=20pt} HORIZONTAL}

BEFORE
\begin{enumext}[columns=2]
\item Using [columns=1] here UNO
  \begin{enumext}[columns=1,topsep=20pt,partopsep=20pt]%,,parsep=0pt,partopsep=0pt,itemsep=0pt
     \item  P \item Q \item M %\item R \item S
  \end{enumext}

\item Using [columns=1] here below
\begin{enumext}[columns=1,topsep=20pt]%,topsep=20pt,parsep=10pt
     \item  P \item Q \item X  \item R \item S
  \end{enumext}

\columnbreak

\item Using [columns=2] here HHHH
  \begin{enumext}[columns=2,topsep=20pt,partopsep=20pt]%,
    \item  P \item Q \item M \item R \item S
  \end{enumext}

\item Using [columns=1,topsep=20pt] here below
\begin{enumext}[columns=1,topsep=20pt]%,topsep=20pt,parsep=10pt mini-env={0.4\linewidth},
     \item  P \item Q \item X  \item R \item S
  \end{enumext}

\end{enumext}
After

\newpage
\section*{Vertical Mode}

\section{Test 1: \texttt{mini-env, columns=1, topsep=default (>1)} VERTICAL}

Before
\begin{enumext}[columns=2]

\item Using [columns=1] here UNO

  \begin{enumext}[columns=1]%,,parsep=0pt,partopsep=0cm
     \item  P \item Q \item M% \item R \item S
  \end{enumext}

\item Using [columns=1] here below

\begin{enumext}[columns=1]%,topsep=20pt,parsep=10pt
     \item  P \item Q \item X  \item R \item S
  \end{enumext}

\columnbreak

\item Using [columns=2] here DOS

  \begin{enumext}[columns=2]%,
    \item  P \item Q \item M \item R \item S
  \end{enumext}

\item Using [columns=1] here below

\begin{enumext}[columns=1]%,topsep=20pt,parsep=10pt mini-env={0.4\linewidth},
     \item  P \item Q \item X  \item R \item S
  \end{enumext}

\end{enumext}
After
\newpage

\section{Test 2: \texttt{mini-env, columns=1, topsep=0pt} VERTICAL}

BEFORE
\begin{enumext}[columns=2]
\item Using [columns=1] here UNO

  \begin{enumext}[columns=1,topsep=0pt]%,,parsep=0pt,partopsep=0pt,itemsep=0pt
     \item  P \item Q \item M% \item R \item S
  \end{enumext}

\item Using [columns=1] here below

\begin{enumext}[columns=1]%,topsep=20pt,parsep=10pt
     \item  P \item Q \item X  \item R \item S
  \end{enumext}

\columnbreak

\item Using [columns=2] here HHHH

  \begin{enumext}[columns=2,topsep=0pt]%,
    \item  P \item Q \item M \item R \item S
  \end{enumext}

\item Using [columns=1] here below

\begin{enumext}[columns=1]%,topsep=20pt,parsep=10pt mini-env={0.4\linewidth},
     \item  P \item Q \item X  \item R \item S
  \end{enumext}

\end{enumext}
After

\section{Test 3: \texttt{mini-env,columns=1,topsep=20pt} VERTICAL}

BEFORE
\begin{enumext}[columns=2]
\item Using [columns=1] here UNO

  \begin{enumext}[columns=1,topsep=20pt]%,,parsep=0pt,partopsep=0pt,itemsep=0pt
     \item  P \item Q \item M %\item R \item S
  \end{enumext}

\item Using [columns=1] here below

\begin{enumext}[columns=1,topsep=20pt]%,topsep=20pt,parsep=10pt
     \item  P \item Q \item X  \item R \item S
  \end{enumext}

\columnbreak

\item Using [columns=2] here HHHH

  \begin{enumext}[columns=2,topsep=20pt]%,
    \item  P \item Q \item M \item R \item S
  \end{enumext}

\item Using [columns=1] here below

\begin{enumext}[columns=1,topsep=20pt]%,topsep=20pt,parsep=10pt mini-env={0.4\linewidth},
     \item  P \item Q \item X  \item R \item S
  \end{enumext}

\end{enumext}
After

\newpage

\section{Test 4: \texttt{mini-env,columns=1,topsep=20pt,partopsep=20pt} VERTICAL}

BEFORE
\begin{enumext}[columns=2]
\item Using [columns=1] here UNO

  \begin{enumext}[columns=1,topsep=20pt,partopsep=20pt]%,,parsep=0pt,partopsep=0pt,itemsep=0pt
     \item  P \item Q \item M %\item R \item S
  \end{enumext}

\item Using [columns=1] here below

\begin{enumext}[columns=1,topsep=20pt,,partopsep=20pt]%,topsep=20pt,parsep=10pt
     \item  P \item Q \item X  \item R \item S
  \end{enumext}

\columnbreak

\item Using [columns=2] here HHHH

  \begin{enumext}[columns=2,topsep=20pt,partopsep=20pt]%,
    \item  P \item Q \item M \item R \item S
  \end{enumext}

\item Using [columns=1,topsep=20pt] here below

\begin{enumext}[columns=1,topsep=20pt,,partopsep=20pt]%,topsep=20pt,parsep=10pt mini-env={0.4\linewidth},
     \item  P \item Q \item X  \item R \item S
  \end{enumext}

\end{enumext}
After


\end{document}

















\end{document}

\newpage

BEFORE, with default values and columns for second level BBB

\begin{enumext}[columns=2]

\item Using [columns=1] here UNO
  \begin{enumext}[columns=1,itemsep=0.25cm,]%,,parsep=0pt,partopsep=0cm
     \item  P \item Q \item M %\item R \item S
  \end{enumext}

\item Using [columns=1] here below
\begin{enumext}[columns=1]%,topsep=20pt,parsep=10pt
     \item  P \item Q \item X  \item R \item S
  \end{enumext}

\columnbreak

\item Using [columns=2,mini-env] here DOS
  \begin{enumext}[columns=2,itemsep=0.25cm,mini-env={0.4\linewidth}]%,
    \item  P \item Q \item M \item R \item S
    \miniright
    (a) P here
  \end{enumext}

\item Using [columns=1] here below
\begin{enumext}[columns=1]%,topsep=20pt,parsep=10pt mini-env={0.4\linewidth},
     \item  P \item Q \item X  \item R \item S
  \end{enumext}

\end{enumext}

After enumext BBB

\newpage

% Following manually tweaked to show the problem.
\begin{tikzpicture}[overlay, remember picture]
    \draw [line width=0.3pt,red]  (0.5cm,-1.727cm) -- (22.5cm,-1.727cm);
    %%\draw [line width=2.6pt,blue] (0.5cm,-3.749cm) -- (19.5cm,-3.749cm);
    \draw [line width=0.3pt,orange] (0.5cm,-2.725cm) -- (22.5cm,-2.725cm);
\end{tikzpicture}

BEFORE WITH NOSEP and COLUMNS FOR SECOND LEVEL CCC

\begin{enumext}[columns=2,nosep]

\item Using [columns=1,nosep] here UNO
  \begin{enumext}[columns=1,nosep]
     \item  P \item Q \item M %\item R \item S
  \end{enumext}

\item Using [columns=1,nosep] here below

\begin{enumext}[columns=1,nosep]
     \item  P \item Q \item X  \item R \item S
  \end{enumext}

\columnbreak

\item Using [columns=2,mini-env] here DOS
  \begin{enumext}[columns=2,mini-env={0.4\linewidth},nosep]%,
    \item  P \item Q \item M \item R \item S
    \miniright
    (a) P here
  \end{enumext}

\item Using [columns=1,nosep] here below

\begin{enumext}[columns=1,nosep]
     \item  P \item Q \item X  \item R \item S
  \end{enumext}

\end{enumext}

After enumext CCC

\end{document}
