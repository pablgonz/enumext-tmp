\DocumentMetadata{ lang=en-US, pdfversion=2.0, testphase={phase-III,math,table,title,firstaid}, uncompress }% pdfstandard=ua-2,
% arara: pdflatex
% arara: pdflatex
% arara: clean: { extensions: [ aux, log, out] }
\documentclass{article}
\usepackage[T1]{fontenc}
\usepackage{lmodern}
\usepackage[margin=2cm]{geometry}
\usepackage{tikz}
\newcommand*{\myCircled}[1]{%
  \begin{tikzpicture}[baseline=(number.base)]
    \node[circle, draw=green!10!gray, inner sep=1pt, fill=blue!30!green!10] (number) {#1};
  \end{tikzpicture}%
}
\usepackage[colorlinks]{hyperref}
\usepackage{enumext}
\pagestyle{empty}
\begin{document}
\setenumext[keyans]{label=\Alph*,font=\small,nosep,wrap-label={\myCircled{##1}}}% nosep
\begin{enumext}[save-ans=simplemc,columns=1,save-ref=true,nosep]% nosep
\item First type of questions
  \begin{keyans}[columns=1,noitemsep]
    \item value
    \item*[$x=5$] correct
    \item value
    \item value
  \end{keyans}
\item Question with image and label below:
\begin{keyanspic}*[3,2]
\anspic{\includegraphics[scale=0.15]{example-image-a}}
\anspic{\includegraphics[scale=0.15]{example-image-b}}
\anspic{\includegraphics[scale=0.15]{example-image-a}}
\anspic{\includegraphics[scale=0.15]{example-image-a}}
\anspic*[A duck]{\includegraphics[scale=0.32]{example-image-duck}}
\end{keyanspic}
\item Question with image and label below:
\end{enumext}

\medskip

Test keys

\printkeyans{simplemc}
\end{document}
